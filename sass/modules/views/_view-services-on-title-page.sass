=view-services-on-title-page-row-width($items,$cols-total,$offset: 1)
  width:        columns(1,$cols-total - $offset)
  margin-right: gutter($items)

  &:nth-child(#{$items}n)
    margin-right: 0

.view-services-on-title-page
  .views-row
    background-color: rgba(black,0.8)
    +inverted-color


    border-radius:    1em
    padding:          1em
    margin-bottom:    $vertical-margin
    overflow:         hidden

    text-align: center

    &>*
      margin-bottom: 1em

    .views-field-field-short-description
      font-size:    0.8em
      font-style:   italic
      color:        $color-inverted-supplementary

    .views-field-field-image
      +intrinsic-ratio(1)
      margin-bottom: 0

      .field-content
        a
          img
            width:  auto
            height: auto
            max-width: 100%
            max-height: 100%
          &:hover
            margin: 0
            padding: 0
            display: inline
            background: transparent

            img
              opacity: 0.7

    +at-breakpoint($layout-medium-and-above)
      display:        inline-block
      vertical-align: top

    +at-breakpoint($layout-medium-to-large)
      +view-services-on-title-page-row-width(2, $cols-medium, 0)

    +at-breakpoint($layout-large-to-xlarge)
      +view-services-on-title-page-row-width(2, $cols-large)

    +at-breakpoint($layout-xlarge-to-xxlarge)
      +view-services-on-title-page-row-width(3, $cols-xlarge)

    +at-breakpoint($layout-xxlarge-and-above)
      +view-services-on-title-page-row-width(4, $cols-xxlarge)


